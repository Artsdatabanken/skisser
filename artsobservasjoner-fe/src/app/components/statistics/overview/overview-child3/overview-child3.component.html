<div class="child">

    <h2 *ngIf="pageTitle$ | async as pageTitle">{{ pageTitle }}</h2>

    <div class="section">

        <p class="body-text">
            {{ 'statistics.description_sightingCountArtsobsVsArtskart' | translate }}
        </p>

        <div class="table-container" tabindex="0" role="region" aria-labelledby="caption1"
            *ngIf="data$ | async as data; else noData">

            <table>
                <caption id="caption1" *ngIf="pageTitle$ | async as pageTitle">{{ pageTitle }}</caption>
                <thead role="rowgroup">
                    <tr role="row">
                        <th scope="col" role="columnheader">
                            {{ 'tables.tableHeading_year' | translate }}
                        </th>
                        <th scope="col" role="columnheader" class="th-number" [innerHTML]="'tables.tableHeading_aggregatedSightingsCount1' | translate">
                            <!-- {{ 'statistics.tableHeading_aggregatedSightingsCount' | translate }} Artsobservasjoner -->
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'tables.tableHeading_newSightingsCount' | translate }} Artsobservasjoner.no
                        </th>
                        <th scope="col" role="columnheader" class="th-number" [innerHTML]="'tables.tableHeading_aggregatedSightingsCount2' | translate ">
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'tables.tableHeading_newSightingsCount' | translate }} Artskart
                        </th>
                        <th scope="col" role="columnheader" class="th-number"
                            [innerHTML]="'tables.tableHeading_percentArtsobsInArtskart' | translate">
                        </th>
                    </tr>
                </thead>
                <tbody role="rowgroup">
                    <tr role="row" *ngFor="let item of data">
                        <th role="rowheader" scope="row"> {{ item.year }} </th>
                        <td role="cell" class="td-number"> {{ item.artsobsCount | formatNumber }} </td>
                        <td role="cell" class="td-number">
                            <small>
                                {{ item.artsobsYearlyIncrease | formatNumber }}
                                <ng-container *ngIf="item.artsobsPercentageIncrease">
                                    {{ ' / ' + item.artsobsPercentageIncrease + ' %'}}
                                </ng-container>
                            </small>
                        </td>
                        <td role="cell" class="td-number"> {{ item.artskartCount | formatNumber }} </td>
                        <td role="cell" class="td-number">
                            <small>

                                {{ item.artskartYearlyIncrease | formatNumber }}
                                <ng-container *ngIf="item.artskartPercentageIncrease">
                                    {{ ' / ' + item.artskartPercentageIncrease + ' %'}}
                                </ng-container>
                            </small>

                        </td>
                        <td role="cell" class="td-number"> {{ item.percent | formatNumber }} %</td>
                    </tr>
                </tbody>

            </table>

        </div>

        <div class="chart-container">
            <canvas id="myCanvas" #myCanvas></canvas>
        </div>

        <ng-template #noData>
            <app-error-response></app-error-response>
        </ng-template>


    </div>

</div>