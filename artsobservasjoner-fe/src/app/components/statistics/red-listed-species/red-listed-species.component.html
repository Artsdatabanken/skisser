<div class="page page--stats">

    <header class="page__header"></header>

    <div class="page__intro">

        <p>Husk at datagrunnlaget må forklares</p>
        <p>Forklart hvor ofte data oppdateres</p>

        <app-category-redlisted></app-category-redlisted>

    </div>

    <div class="page__content">

        <div *ngIf="data$ | async as redlistedSpecies">



            <div class="custom-table">
                <div class="custom-table__caption">{{ 'shared.tableCaption_redlistedData' | translate }}</div>

                <div class="custom-table__head">

                    <div class="custom-table__row">

                        <div class="custom-table__column">
                            <div class="custom-table__th">{{ 'shared.tableHeading_speciesGroup' | translate }}</div>
                        </div>

                        <div class="custom-table__column">
                            <div class="custom-table__grid">

                                <div>

                                    <div class="custom-table__th">
                                        {{ 'shared.tableHeading_riskGroup' | translate }}
                                    </div>
                                    <div class="custom-table__th th-number">
                                        {{ 'shared.tableHeading_sightingsCount' | translate }}
                                    </div>
                                    <div class="custom-table__th th-number">
                                        {{ 'shared.tableHeading_withMedia' | translate }}
                                    </div>
                                    <div class="custom-table__th th-number">
                                        {{ 'shared.tableHeading_qualityChecked' | translate }}
                                    </div>
                                    <div class="custom-table__th th-number">
                                        {{ 'shared.tableHeading_qualityCheckedAndApproved' | translate }}
                                    </div>

                                </div>

                            </div>

                        </div>

                    </div>

                </div>


                <div class="custom-table__body" *ngFor="let species of redlistedSpecies | keyvalue">

                    <div class="custom-table__row">

                        <div class="custom-table__column">
                            <div class="custom-table__th">
                                {{ currentLanguage == 'no' ? species.key.labelNorwegian : species.key.labelEnglish }}
                            </div>
                        </div>

                        <div class="custom-table__column">
                            <div class="custom-table__grid">

                                <div *ngFor="let data of species.value.data">
                                    <div class="custom-table__td">{{ data.assessmentCategory.code }}</div>
                                    <div class="custom-table__td td-number">{{ data.sightingsCount | numberProxy }}
                                    </div>
                                    <div class="custom-table__td td-number">{{ data.imagesCount | numberProxy }}</div>
                                    <div class="custom-table__td td-number">{{ data.validatedCount | numberProxy }}
                                    </div>
                                    <div class="custom-table__td td-number">{{ data.approvedCount | numberProxy }}
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>

                </div>

            </div>

            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>

            <table>
                <caption>{{ 'shared.tableCaption_redlistedData' | translate }}</caption>
                <thead>
                    <tr>
                        <th>{{ 'shared.tableHeading_speciesGroup' | translate }}</th>
                        <th scope="col" role="columnheader">
                            {{ 'shared.tableHeading_riskGroup' | translate }}
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'shared.tableHeading_sightingsCount' | translate }}
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'shared.tableHeading_withMedia' | translate }}
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'shared.tableHeading_qualityChecked' | translate }}
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'shared.tableHeading_qualityCheckedAndApproved' | translate }}
                        </th>
                    </tr>
                </thead>


                <tbody *ngFor="let species of redlistedSpecies | keyvalue">
                    <tr>
                        <th scope="row" role="rowheader" colspan="6">
                            {{ currentLanguage == 'no' ? species.key.labelNorwegian :
                            species.key.labelEnglish }}
                        </th>
                    </tr>

                    <tr *ngFor="let data of species.value.data">
                        <td></td>
                        <td style="width: auto;">{{ data.assessmentCategory.code }}</td>
                        <td class="td-number">{{ data.sightingsCount | numberProxy }}</td>
                        <td class="td-number">{{ data.imagesCount | numberProxy }}</td>
                        <td class="td-number">{{ data.validatedCount | numberProxy }}</td>
                        <td class="td-number">{{ data.approvedCount | numberProxy }}</td>
                    </tr>
                </tbody>


                <!-- <tbody *ngFor="let species of redlistedSpecies | keyvalue">
                    <tr *ngFor="let data of species.value.data; let i = index">
                        <th scope="row" role="rowheader">
                            {{ species.value.data.length }}
                            {{ species.value.data.length - species.value.data.length + 1 }}
                            <br>
                            {{ currentLanguage == 'no' ? data.speciesGroup.labelNorwegian :
                            data.speciesGroup.labelEnglish }}
                        </th>
                    </tr>

                    <tr *ngFor="let data of species.value.data">
              
                        
                        <td style="width: auto;">{{ data.assessmentCategory.code }}</td>
                        <td class="td-number">{{ data.sightingsCount | numberProxy }}</td>
                        <td class="td-number">{{ data.imagesCount | numberProxy }}</td>
                        <td class="td-number">{{ data.validatedCount | numberProxy }}</td>
                        <td class="td-number">{{ data.approvedCount | numberProxy }}</td>
                    </tr>
                </tbody> -->













                <!-- <tbody *ngFor="let species of redlistedSpecies | keyvalue">
                    <tr *ngFor="let data of species.value.data">
                        <th scope="row" role="rowheader" class="">
                            {{ currentLanguage == 'no' ? data.speciesGroup.labelNorwegian :
                            data.speciesGroup.labelEnglish }}
                        </th>
                        <td style="width: auto;">{{ data.assessmentCategory.code }}</td>
                        <td class="td-number">{{ data.sightingsCount | numberProxy }}</td>
                        <td class="td-number">{{ data.imagesCount | numberProxy }}</td>
                        <td class="td-number">{{ data.validatedCount | numberProxy }}</td>
                        <td class="td-number">{{ data.approvedCount | numberProxy }}</td>
                    </tr>
                </tbody> -->

            </table>

        </div>

        <!-- <div *ngIf="redlistedSpeciesData$ | async as redlistedSpecies">

            <table>
                <caption>{{ 'shared.tableCaption_redlistedData' | translate }}</caption>
                <thead>
                    <tr>
                        <th>{{ 'shared.tableHeading_speciesGroup' | translate }}</th>
                        <th scope="col" role="columnheader" class="th-number">{{ 'shared.tableHeading_riskGroup' |
                            translate
                            }}</th>
                        <th scope="col" role="columnheader" class="th-number">{{ 'shared.tableHeading_sightingsCount' |
                            translate }}</th>
                        <th scope="col" role="columnheader" class="th-number">{{ 'shared.tableHeading_withMedia' |
                            translate
                            }}</th>
                        <th scope="col" role="columnheader" class="th-number">{{ 'shared.tableHeading_qualityChecked' |
                            translate }}</th>
                        <th scope="col" role="columnheader" class="th-number">{{
                            'shared.tableHeading_qualityCheckedAndApproved' | translate }}</th>
                    </tr>
                </thead>

                <tbody *ngFor="let item of redlistedSpecies; let i = index">
                    <tr *ngFor="let element of item.data">

                        <th scope="row" role="rowheader" class="">{{ item.id }}</th>
                        <td class="td-number">{{ element.redlistId }}</td>
                        <td class="td-number">{{ element.sightingCount | numberProxy }}</td>
                        <td class="td-number">{{ element.sightingWithMediaCount | numberProxy }}</td>
                        <td class="td-number">{{ element.validatedSightingCount | numberProxy }}</td>
                        <td class="td-number">{{ element.approvedValidatedSightingCount | numberProxy }}</td>

                    </tr>
                </tbody>

            </table>

        </div> -->

        <p>*Inkluderer alle valideringskategorier bortsett fra 'Ikke validert (funnet er ikke kvalitetssikret)'. </p>
        <p> ** Har en av følgende valideringskategorier: </p>

        <ul>
            <li>Godkjent basert på observatørens opplysninger</li>
            <li>Godkjent</li>
            <li>Belegg gransket av validator</li>
            <li>Godkjent. Foto eller lyd godkjent av validator</li>
            <li>Godkjent basert på determinators verifisering</li>
            <li>Godkjent, basert på en tidligere sjeldenhetsrapport</li>
            <li>Godkjent, funnet er sannsynlig</li>
        </ul>

    </div>

    <footer class="page__footer"> </footer>

</div>