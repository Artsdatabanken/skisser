<div class="page page--stats">

    <header class="page__header"></header>

    <div class="page__intro"></div>

    <div class="page__content">

        <p class="body-text">
            {{ 'shared.stats_tableDescription_content' | translate: { value1: translationParamValue1, value2:
            translationParamValue2 } }} {{ 'shared.stats_tableDescription_includedData' | translate }}
        </p>

        <app-assessment-category [categoryVariant]="'redlistedCategories'"></app-assessment-category>

        <br>
        <p class="body-text"> {{ 'shared.stats_tableDescription_includedDataExplanation' | translate }}</p>

        <div *ngIf="data$ | async as redlistedSpecies; else noData">

            <table aria-describedby="redlist">
                <caption>{{ 'shared.tableCaption_redlistedSpeciesData' | translate }}</caption>
                <thead>
                    <tr>
                        <th>{{ 'shared.tableHeading_speciesGroup' | translate }}</th>
                        <th scope="col" role="columnheader">
                            {{ 'shared.tableHeading_riskGroup' | translate }}
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'shared.tableHeading_sightingsCount' | translate }}
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'shared.tableHeading_withMedia' | translate }}
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'shared.tableHeading_qualityChecked' | translate }}
                        </th>
                        <th scope="col" role="columnheader" class="th-number">
                            {{ 'shared.tableHeading_qualityCheckedAndApproved' | translate }}
                        </th>
                    </tr>
                </thead>


                <tbody *ngFor="let species of redlistedSpecies | keyvalue">
                    <tr class="custom-table__row" *ngFor="let data of species.value.data; let i = index">
                        <td class="custom-table__td">

                            <span *ngIf="i === 0">
                                {{ currentLanguage == 'no' ? species.key.labelNorwegian :
                                species.key.labelEnglish }}
                            </span>
                            <span *ngIf="i > 0" class="sr-only">
                                {{ currentLanguage == 'no' ? species.key.labelNorwegian :
                                species.key.labelEnglish }}
                            </span>

                        </td>
                        <td>
                            {{ data.assessmentCategory.code }}
                            <span class="sr-only">
                                {{ currentLanguage == 'no' ? data.assessmentCategory.labelNorwegian :
                                data.assessmentCategory.labelEnglish }}
                            </span>
                        </td>
                        <td class="td-number">{{ data.sightingsCount | numberProxy }}</td>
                        <td class="td-number">{{ data.imagesCount | numberProxy }}</td>
                        <td class="td-number">{{ data.validatedCount | numberProxy }}</td>
                        <td class="td-number">{{ data.approvedCount | numberProxy }}</td>
                    </tr>
                </tbody>


                <!-- <tbody *ngFor="let species of redlistedSpecies | keyvalue">
                    <tr>
                        <th scope="row" role="rowheader" colspan="6">
                            {{ currentLanguage == 'no' ? species.key.labelNorwegian :
                            species.key.labelEnglish }}
                        </th>
                    </tr>

                    <tr *ngFor="let data of species.value.data">
                        <td></td>
                        <td style="width: auto;">{{ data.assessmentCategory.code }}</td>
                        <td class="td-number">{{ data.sightingsCount | numberProxy }}</td>
                        <td class="td-number">{{ data.imagesCount | numberProxy }}</td>
                        <td class="td-number">{{ data.validatedCount | numberProxy }}</td>
                        <td class="td-number">{{ data.approvedCount | numberProxy }}</td>
                    </tr>
                </tbody> -->


                <!-- <tbody *ngFor="let species of redlistedSpecies | keyvalue">
                    <tr *ngFor="let data of species.value.data; let i = index">
                        <th scope="row" role="rowheader">
                            {{ species.value.data.length }}
                            {{ species.value.data.length - species.value.data.length + 1 }}
                            <br>
                            {{ currentLanguage == 'no' ? data.speciesGroup.labelNorwegian :
                            data.speciesGroup.labelEnglish }}
                        </th>
                    </tr>

                    <tr *ngFor="let data of species.value.data">
              
                        
                        <td style="width: auto;">{{ data.assessmentCategory.code }}</td>
                        <td class="td-number">{{ data.sightingsCount | numberProxy }}</td>
                        <td class="td-number">{{ data.imagesCount | numberProxy }}</td>
                        <td class="td-number">{{ data.validatedCount | numberProxy }}</td>
                        <td class="td-number">{{ data.approvedCount | numberProxy }}</td>
                    </tr>
                </tbody> -->













                <!-- <tbody *ngFor="let species of redlistedSpecies | keyvalue">
                    <tr *ngFor="let data of species.value.data">
                        <th scope="row" role="rowheader" class="">
                            {{ currentLanguage == 'no' ? data.speciesGroup.labelNorwegian :
                            data.speciesGroup.labelEnglish }}
                        </th>
                        <td style="width: auto;">{{ data.assessmentCategory.code }}</td>
                        <td class="td-number">{{ data.sightingsCount | numberProxy }}</td>
                        <td class="td-number">{{ data.imagesCount | numberProxy }}</td>
                        <td class="td-number">{{ data.validatedCount | numberProxy }}</td>
                        <td class="td-number">{{ data.approvedCount | numberProxy }}</td>
                    </tr>
                </tbody> -->

            </table>

        </div>

        <ng-template #noData>
            {{ 'shared.noData' | translate }}
        </ng-template>

        <p>
            {{ 'shared.stats_tableDescription_excluded' | translate }}
            <br />
            {{ 'shared.stats_tableDescription_approved' | translate }}
        </p>

        <ul>
            <li>Godkjent basert på observatørens opplysninger</li>
            <li>Godkjent</li>
            <li>Belegg gransket av validator</li>
            <li>Godkjent. Foto eller lyd godkjent av validator</li>
            <li>Godkjent basert på determinators verifisering</li>
            <li>Godkjent, basert på en tidligere sjeldenhetsrapport</li>
            <li>Godkjent, funnet er sannsynlig</li>
        </ul>

    </div>

    <footer class="page__footer"> </footer>

</div>